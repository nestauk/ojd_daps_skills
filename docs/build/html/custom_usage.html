<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="author" title="About these documents" href="about.html" /><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Pipeline summary" href="pipeline_summary.html" /><link rel="prev" title="Skills Extractor" href="about.html" />

    <meta name="generator" content="sphinx-5.3.0, furo 2022.09.29"/>
        <title>Custom Usage - Skills Extractor 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Skills Extractor 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/Nesta_Logo_Blue_RGB.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Skills Extractor 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Skills Extractor</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Custom Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline_summary.html">Pipeline summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_card.html">Model Cards</a></li>
<li class="toctree-l1"><a class="reference internal" href="labelling.html">Entity Labelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="extract_skills.html">The <code class="docutils literal notranslate"><span class="pre">ExtractSkills</span></code> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">The MIT License (MIT)</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="custom-usage">
<h1>Custom Usage<a class="headerlink" href="#custom-usage" title="Permalink to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">extract_skills.py</span></code> combines the prediction of skills using code from <a class="reference external" href="https://github.com/nestauk/ojd_daps_skills/tree/dev/ojd_daps_skills/pipeline/skill_ner">skill_ner</a> with the mapping of skills to a taxonomy using code from <a class="reference external" href="https://github.com/nestauk/ojd_daps_skills/tree/dev/ojd_daps_skills/pipeline/skill_ner_mapping">skill_ner_mapping</a>.</p>
<p>This page explains more about the custom usage of this class including creating a custom config file and mapping to another taxonomy. To do this you will need to clone the repo. Please refer to the main documentation page for the <a class="reference external" href="https://nestauk.github.io/ojd_daps_skills/build/html/about.html#development-a-name-development-a">development setup instructions</a> for this package and the core usage.</p>
<div class="section" id="configuration-files-a-name-config-files-a">
<h2>Configuration files <a name="config_files"></a><a class="headerlink" href="#configuration-files-a-name-config-files-a" title="Permalink to this heading">#</a></h2>
<p>Core to the Extract Skills package, and in particular the taxonomy mapping functionality, is config files. These are included in the instantiation of the class, as so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">es</span> <span class="o">=</span> <span class="n">ExtractSkills</span><span class="p">(</span><span class="n">config_name</span><span class="o">=</span><span class="s2">&quot;extract_skills_toy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="predefined-configurations-a-name-predefined-config-a">
<h3>Predefined configurations <a name="predefined_config"></a><a class="headerlink" href="#predefined-configurations-a-name-predefined-config-a" title="Permalink to this heading">#</a></h3>
<p>There are currently three configurations available for running the skills extraction algorithm. These configurations contain information about parameter values, trained models and directory locations of stored data.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extract_skills_toy</span></code> - Configuration for a toy taxonomy example, useful for testing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extract_skills_esco</span></code> - Configuration for extracting skills and matching them to the ESCO skills taxonomy. This configuration is correct to v1.1.1 of ESCO.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extract_skills_lightcast</span></code> - Configuration for extracting skills and matching them to the Lightcast skills taxonomy. This configuration is correct to the version of Lightcast as of 22/11/22.</p></li>
</ol>
<p>If you are mapping to the ESCO skills taxonomy using <code class="docutils literal notranslate"><span class="pre">extract_skills_esco.yaml</span></code>, we reviewed the top 100 skills and ultimately hard coded 43 of the most common skills which were not well matched from a random sample of 100,000 job adverts in the <a class="reference external" href="https://www.nesta.org.uk/data-visualisation-and-interactive/open-jobs-observatory/">Open Jobs Observatory</a> project with the most appropriate skills from the taxonomy.</p>
</div>
<div class="section" id="configuration-definitions-a-name-config-defs-a">
<h3>Configuration definitions <a name="config_defs"></a><a class="headerlink" href="#configuration-definitions-a-name-config-defs-a" title="Permalink to this heading">#</a></h3>
<p>Every predefined configuration includes the following parameters:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ner_model_path</span></code>: str</p></td>
<td><p>The relative path to the NER model folder used to predict skill spans in job adverts.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">taxonomy_name</span></code>: str</p></td>
<td><p>The name of the taxonomy to map onto.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">taxonomy_path</span></code>: str</p></td>
<td><p>The relative path to the formatted taxonomy. Formatted taxonomy must be in <code class="docutils literal notranslate"><span class="pre">.csv</span></code> format.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clean_job_ads</span></code>: bool, default=True</p></td>
<td><p>Whether to perform light text cleaning on job adverts or not. Text cleaning includes detecting and splitting camelcase in job adverts, replacing various characters and converting bullet points to full stops. Defaults to True.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">min_multiskill_length</span></code>: int</p></td>
<td><p>The minimum character length a predicted multi-skill sentence must be to apply splitting rules to.</p></td>
</tr>
<tr class="row-odd"><td><p>(optional) <code class="docutils literal notranslate"><span class="pre">taxonomy_embedding_file_name</span></code>: str</p></td>
<td><p>The relative path to a taxonomy embedding file if it exists. If left unset the embeddings will be generated when the code is run.</p></td>
</tr>
<tr class="row-even"><td><p>(optional) <code class="docutils literal notranslate"><span class="pre">prev_skill_matches_file_name</span></code>: str</p></td>
<td><p>The relative path to a previous skill matches file if it exists.</p></td>
</tr>
<tr class="row-odd"><td><p>(optional) <code class="docutils literal notranslate"><span class="pre">hard_labelled_skills_file_name</span></code>: str</p></td>
<td><p>The relative path to a hard labelled skills file if it exists.</p></td>
</tr>
<tr class="row-even"><td><p>(optional) <code class="docutils literal notranslate"><span class="pre">hier_name_mapper_file_name</span></code>: str</p></td>
<td><p>The relative path to a hierarchy name mapper file if it exists.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">num_hier_levels</span></code>: int</p></td>
<td><p>The number of levels in the skills taxonomy hierarchy. This can be set to 0 if the taxonomy has no levels.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">skill_type_dict</span></code>: dict</p></td>
<td><p>A dictionary that defines skill types and hierarchy types. <br /><br /> <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;skill_types&quot;:</span> <span class="pre">[A</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">'type'</span> <span class="pre">column</span> <span class="pre">which</span> <span class="pre">code</span> <span class="pre">skills],</span> <span class="pre">&quot;hier_types&quot;:</span> <span class="pre">[A</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">'type'</span> <span class="pre">column</span> <span class="pre">which</span> <span class="pre">code</span> <span class="pre">skill</span> <span class="pre">groups,</span> <span class="pre">these</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">in</span> <span class="pre">order</span> <span class="pre">from</span> <span class="pre">least</span> <span class="pre">to</span> <span class="pre">most</span> <span class="pre">granular]}</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">match_thresholds_dict</span></code>: dict</p></td>
<td><p>A dictionary that defines thresholds at each level of the skills taxonomy hierarchy. For example,<br /> <br /> <code class="docutils literal notranslate"><span class="pre">{&quot;skill_match_thresh&quot;:</span> <span class="pre">0.7,</span> <span class="pre">&quot;top_tax_skills&quot;:</span> <span class="pre">{1:</span> <span class="pre">0.5,</span> <span class="pre">2:</span> <span class="pre">0.5,</span> <span class="pre">3:</span> <span class="pre">0.5},“max_share”:</span> <span class="pre">{1:</span> <span class="pre">0,</span> <span class="pre">2:</span> <span class="pre">0.2,</span> <span class="pre">3:</span> <span class="pre">0.2}}</span></code><br /> <br /> See <strong>Model Card: Skills to Taxonomy Mapping</strong> for the details of what these thresholds represent.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">skill_name_col</span></code>: str</p></td>
<td><p>The name of the skill/hierarchy level description text column in formatted taxonomy <code class="docutils literal notranslate"><span class="pre">.csv</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">skill_id_col</span></code>: str</p></td>
<td><p>Name of skill id column in formatted taxonomy <code class="docutils literal notranslate"><span class="pre">.csv</span></code>. Each row should contain a unique ID for the skill/hierarchy.</p></td>
</tr>
<tr class="row-even"><td><p>(optional) <code class="docutils literal notranslate"><span class="pre">skill_hier_info_col</span></code>: str</p></td>
<td><p>Name of hierarchy info column in formatted taxonomy <code class="docutils literal notranslate"><span class="pre">.csv</span></code>. The hierarchy info column contains which hierarchy levels a skill is in (from least to most granular). If not a skill, then NA.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">skill_type_col</span></code>: str</p></td>
<td><p>Name of what column name the skill/hier description is from (category, subcategory) in formatted taxonomy <code class="docutils literal notranslate"><span class="pre">.csv</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="mapping-to-your-own-taxonomy-a-name-mapping-a">
<h2>Mapping to your own taxonomy <a name="mapping"></a><a class="headerlink" href="#mapping-to-your-own-taxonomy-a-name-mapping-a" title="Permalink to this heading">#</a></h2>
<p>Although we currently support three configurations for running the skills extraction algorithm, you are also able to map extracted skills onto a taxonomy of your choice by defining your own configuration file. In order to map skills onto your own taxonomy you must:</p>
<ol class="arabic simple">
<li><p>Format your taxonomy</p></li>
<li><p>Define your own configuration file</p></li>
</ol>
<div class="section" id="format-your-taxonomy-a-name-format-tax-a">
<h3>Format your taxonomy <a name="format_tax"></a><a class="headerlink" href="#format-your-taxonomy-a-name-format-tax-a" title="Permalink to this heading">#</a></h3>
<p>You must also format your taxonomy in such a way that looks like the following:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>skill_type_col</p></th>
<th class="head"><p>skill_name_col</p></th>
<th class="head"><p>skill_id_col</p></th>
<th class="head"><p>(optional) skill_hier_info_col</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>skill</p></td>
<td><p>use spreadsheets software</p></td>
<td><p>abcd</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[[&quot;S&quot;,</span> <span class="pre">&quot;S5&quot;,</span> <span class="pre">&quot;S5.6&quot;,</span> <span class="pre">&quot;S5.6.1&quot;],</span> <span class="pre">[&quot;S&quot;,</span> <span class="pre">&quot;S5&quot;,</span> <span class="pre">&quot;S5.5&quot;,</span> <span class="pre">&quot;S5.5.2&quot;]]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>skill</p></td>
<td><p>use communication techniques</p></td>
<td><p>cdef</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[[&quot;S&quot;,</span> <span class="pre">&quot;S1&quot;,</span> <span class="pre">&quot;S1.0&quot;,</span> <span class="pre">&quot;S1.0.0&quot;]]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>skill_group_3</p></td>
<td><p>communication, collaboration and creativity</p></td>
<td><p>S1.0.0</p></td>
<td><p>NaN</p></td>
</tr>
<tr class="row-odd"><td><p>skill_group_3</p></td>
<td><p>mathematics</p></td>
<td><p>S1.2.1</p></td>
<td><p>NaN</p></td>
</tr>
<tr class="row-even"><td><p>skill_group_2</p></td>
<td><p>presenting information</p></td>
<td><p>S1.4</p></td>
<td><p>NaN</p></td>
</tr>
</tbody>
</table>
</div>
<p>You will see the <code class="docutils literal notranslate"><span class="pre">skill_type_col</span></code> column contains skills and skill groups. This is because we try to match to individual skills, but if this isn’t possible we then try to match to a skill group in the taxonomy (if given).</p>
<p>For rows which correspond to individual skills (rather than skill groups) the <code class="docutils literal notranslate"><span class="pre">skill_hier_info_col</span></code> column values show all the parts of the taxonomy where this skill is situated. It is helpful to link these codes to names, so you may also want to create a taxonomy name mapper file for this data, e.g. <code class="docutils literal notranslate"><span class="pre">{&quot;S1.2.1&quot;:</span> <span class="pre">&quot;mathematics&quot;}</span></code>. For rows which correspond to skill groups (rather than individual skills) the <code class="docutils literal notranslate"><span class="pre">skill_hier_info_col</span></code> column will be blank since the hierarchy information is contained in the <code class="docutils literal notranslate"><span class="pre">skill_id_col</span></code> column. The contents of <code class="docutils literal notranslate"><span class="pre">skill_hier_info_col</span></code> need to be a list of lists, or a list of strings, but not a combination of both.</p>
<p>The number of levels in the taxonomy will correspond to the length of the lists in the <code class="docutils literal notranslate"><span class="pre">skill_hier_info_col</span></code> column.</p>
<p>Although we don’t provide guidance on re-formatting your taxonomy, we have re-formatted the ESCO taxonomy to this format in <a class="reference external" href="https://github.com/nestauk/ojd_daps_skills/blob/dev/ojd_daps_skills/pipeline/skill_ner_mapping/esco_formatting.py">this script</a> and we have re-formatted the Lightcast taxonomy to this format in <a class="reference external" href="https://github.com/nestauk/ojd_daps_skills/blob/dev/ojd_daps_skills/pipeline/skill_ner_mapping/lightcast_formatting.py">this script</a>.</p>
</div>
<div class="section" id="define-your-own-configuration-file-a-name-custom-config-a">
<h3>Define your own configuration file <a name="custom_config"></a><a class="headerlink" href="#define-your-own-configuration-file-a-name-custom-config-a" title="Permalink to this heading">#</a></h3>
<p>Create your own configuration <code class="docutils literal notranslate"><span class="pre">yaml</span></code> file in the format <code class="docutils literal notranslate"><span class="pre">extract_skills_taxonomy_name.yaml</span></code>. This config should contain all the parameters as described in <a class="reference external" href="https://nestauk.github.io/ojd_daps_skills/build/html/custom_usage.html#configuration-definitions-a-name-config-defs-a">Predefined configuration definitions</a>. The file should be saved to <code class="docutils literal notranslate"><span class="pre">your_current_path/ojd_daps_skills/config/</span></code>.</p>
<p>We provide a template config file <a class="reference external" href="https://github.com/nestauk/ojd_daps_skills/blob/dev/ojd_daps_skills/config/extract_skills_template.yaml">here</a>.</p>
<p>It is important that the list given in <code class="docutils literal notranslate"><span class="pre">skill_type_dict['hier_types']</span></code> is in the order from the least to most granular parts of the taxonomy. For example, in the ESCO taxonomy we match against the second and third skill group levels, so this is set to <code class="docutils literal notranslate"><span class="pre">[&quot;level_2&quot;,</span> <span class="pre">&quot;level_3&quot;]</span></code> i.e. level 3 is more granular than level 2, where <code class="docutils literal notranslate"><span class="pre">level</span> <span class="pre">2</span> <span class="pre">skill</span> <span class="pre">groups</span> <span class="pre">&gt;</span> <span class="pre">level</span> <span class="pre">3</span> <span class="pre">skill</span> <span class="pre">groups</span> <span class="pre">&gt;</span> <span class="pre">individual</span> <span class="pre">skill</span></code>.</p>
<p>Now you can use your custom taxonomy as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ojd_daps_skills.pipeline.extract_skills.extract_skills</span> <span class="kn">import</span> <span class="n">ExtractSkills</span> <span class="c1">#import the module</span>

<span class="n">es</span> <span class="o">=</span> <span class="n">ExtractSkills</span><span class="p">(</span><span class="n">config_name</span><span class="o">=</span><span class="s2">&quot;my_custom_config_name&quot;</span><span class="p">,</span> <span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">es</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>

</pre></div>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="pipeline_summary.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Pipeline summary</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="about.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Skills Extractor</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Liz Gallagher, India Kerle
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Custom Usage</a><ul>
<li><a class="reference internal" href="#configuration-files-a-name-config-files-a">Configuration files <a name="config_files"></a></a><ul>
<li><a class="reference internal" href="#predefined-configurations-a-name-predefined-config-a">Predefined configurations <a name="predefined_config"></a></a></li>
<li><a class="reference internal" href="#configuration-definitions-a-name-config-defs-a">Configuration definitions <a name="config_defs"></a></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mapping-to-your-own-taxonomy-a-name-mapping-a">Mapping to your own taxonomy <a name="mapping"></a></a><ul>
<li><a class="reference internal" href="#format-your-taxonomy-a-name-format-tax-a">Format your taxonomy <a name="format_tax"></a></a></li>
<li><a class="reference internal" href="#define-your-own-configuration-file-a-name-custom-config-a">Define your own configuration file <a name="custom_config"></a></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>